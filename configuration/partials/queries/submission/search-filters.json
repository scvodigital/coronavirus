{{>queries_term field="type" term=(replace @root.request.params.type 'for-' '')}},
{{#if @root.request.params.query.support ~}}
{{>queries_term field="support" term=@root.request.params.query.support}},
{{/if ~}}
{{#if location ~}}
{
  "bool": {
    "should": [
      {{>queries_opportunity_search_filters_locations @root.request.params.query}}
      {{>queries_opportunity_search_filters_areas @root.request.params.query}}
      {{>queries_do_nothing}}
    ],
    "minimum_should_match": 2
  }
},
{{/if ~}}
{{>queries_do_nothing}}